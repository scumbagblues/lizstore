import{W as y,r as h,j as e,Y as f}from"./app-CMdUlJEP.js";import{A as j}from"./AuthenticatedLayout-Ch-8UcQE.js";import{P as v}from"./PrimaryButton-CHWfViSq.js";import"./ApplicationLogo-CcxgTfl6.js";import"./transition-ByPo2V2b.js";const P=({product:r,categories:n})=>{const{data:i,setData:d,post:g,processing:c,errors:s}=y({name:r.name,description:r.description,price:r.price,stock:r.stock,category_id:r.category_id,image1:null,image2:null,image3:null,image4:null,image5:null}),[m,x]=h.useState({image1:r.image1?`/storage/${r.image1}`:null,image2:r.image2?`/storage/${r.image2}`:null,image3:r.image3?`/storage/${r.image3}`:null,image4:r.image4?`/storage/${r.image4}`:null,image5:r.image5?`/storage/${r.image5}`:null}),u=(a,t)=>{const o=a.target.files[0];if(d(t,o),o){const l=new FileReader;l.onloadend=()=>{x(k=>({...k,[t]:l.result}))},l.readAsDataURL(o)}},b=a=>{a.preventDefault(),g(route("products.update",r.id),{forceFormData:!0})};return e.jsxs(j,{children:[e.jsx(f,{title:"Edit Product"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Edit Product"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),e.jsx("input",{type:"text",value:i.name,onChange:a=>d("name",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600",required:!0}),s.name&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:s.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),e.jsx("textarea",{value:i.description,onChange:a=>d("description",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600"}),s.description&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:s.description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Price"}),e.jsx("input",{type:"number",value:i.price,onChange:a=>d("price",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600",required:!0}),s.price&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:s.price})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stock"}),e.jsx("input",{type:"number",value:i.stock,onChange:a=>d("stock",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600",required:!0}),s.stock&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:s.stock})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Category"}),e.jsxs("select",{value:i.category_id,onChange:a=>d("category_id",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),s.category_id&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:s.category_id})]}),[1,2,3,4,5].map(a=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Image ",a]}),m[`image${a}`]&&e.jsx("img",{src:m[`image${a}`],alt:`Preview ${a}`,className:"mb-2 h-20 w-20 object-cover"}),e.jsx("input",{type:"file",onChange:t=>u(t,`image${a}`),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600"}),s[`image${a}`]&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:s[`image${a}`]})]},a)),e.jsx(v,{type:"submit",disabled:c,children:"Update Product"})]})]})})})})]})};export{P as default};
